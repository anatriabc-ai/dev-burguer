<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="styles/output.css" />

    <title>Menezes Salgados & Cia</title>

    <style>
        /* RESET PARA IPHONE/SAFARI - Resolve o problema de bot√µes invis√≠veis */
        button, input, select, textarea {
            -webkit-appearance: none !important;
            appearance: none !important;
            border-radius: 8px;
            background-clip: padding-box;
        }

        /* Garante que as cores de fundo do Tailwind funcionem no iOS */
        .bg-green-500 { background-color: #22c55e !important; }
        .bg-red-500 { background-color: #ef4444 !important; }
        .bg-zinc-900 { background-color: #18181b !important; }

        /* Corre√ß√£o para inputs brancos no iOS */
        input, select, textarea {
            background-color: #ffffff !important;
            color: #000000 !important;
            opacity: 1 !important;
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

        #header-bg {
            position: relative;
            overflow: hidden;
            background-size: cover;
            background-position: center;
        }
    </style>
</head>

<body class="bg-gray-50">
    <audio id="cart-sound" src="assets/click.mp3" preload="auto"></audio>

    <header id="header-bg" class="w-full h-[420px] bg-zinc-900 relative flex flex-col items-center justify-center overflow-hidden">
        <img id="header-img" src="" class="absolute top-0 left-0 w-full h-full object-cover z-0 opacity-70" />
        
        <video id="bg-video" autoplay muted loop playsinline class="hidden absolute top-0 left-0 w-full h-full object-cover z-0 pointer-events-none opacity-70">
            <source id="video-source" src="" type="video/mp4">
        </video>

        <div class="absolute top-0 left-0 w-full h-full bg-black/60 z-[5]"></div>

        <div class="relative z-10 flex flex-col items-center text-center px-4">
            <img id="header-logo" src="assets/hamb-1.png" alt="Logo" 
                class="w-28 h-28 rounded-full shadow-2xl border-2 border-white object-cover"/>
            
            <h1 class="text-4xl mt-4 mb-1 font-bold text-white drop-shadow-md">Menezes Salgados</h1>
            <p class="text-white text-sm mb-4 font-medium opacity-90">Rua General Estilac leal 160, Mau√°, SCS - SP</p>

            <div class="bg-green-600 px-6 py-2 rounded-full shadow-lg" id="date-span">
                <span class="text-white font-bold" id="span-text">ABERTO: Seg √° Dom - 18:00 as 22:00</span>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 mt-8">
        <div class="relative">
            <input type="text" id="search-input" placeholder="O que voc√™ est√° procurando?"
                class="w-full bg-white border border-gray-200 rounded-2xl py-3 px-12 outline-none focus:border-green-500 shadow-sm" />
            <i class="fa fa-search absolute left-5 top-1/2 -translate-y-1/2 text-gray-400"></i>
        </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 mt-4 flex gap-3 overflow-x-auto pb-2 scrollbar-hide">
        <a href="#savory-title" class="bg-zinc-900 text-white px-6 py-2 rounded-full font-medium shrink-0">üçî Salgados</a>
        <a href="#candy-title" class="bg-zinc-900 text-white px-6 py-2 rounded-full font-medium shrink-0">üç® Doces</a>
        <a href="#combination-title" class="bg-white border border-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium shrink-0">üéÅ Combos</a>
        <a href="#drinks-title" class="bg-white border border-gray-200 text-gray-800 px-6 py-2 rounded-full font-medium shrink-0">ü•§ Bebidas</a>
    </div>

    <main id="menu" class="max-w-7xl mx-auto px-4 mb-24 mt-10">
        <h3 id="savory-title" class="text-xl font-bold mb-4">üçî Nossos Salgados:</h3>
        <div id="savory-section" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12"></div>

        <h3 id="candy-title" class="text-xl font-bold mb-4">üç® Nossos Doces:</h3>
        <div id="candy-section" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12"></div>

        <h3 id="drinks-title" class="text-xl font-bold mb-4">ü•§ Bebidas:</h3>
        <div id="drinks-section" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12"></div>

        <h3 id="combination-title" class="text-xl font-bold mb-4">üéÅ Combos:</h3>
        <div id="combination-section" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12"></div>
    </main>

    <div class="bg-black/60 w-full h-full fixed top-0 left-0 z-[99] items-center justify-center hidden" id="cart-modal">
        <div class="bg-white p-5 rounded-2xl min-w-[90%] md:min-w-[600px] max-h-[90vh] overflow-y-auto shadow-2xl">
            <h2 class="text-center font-bold text-2xl mb-4">Meu carrinho</h2>
            <div id="cart-items" class="flex flex-col border-b pb-4"></div>

            <div class="py-4 space-y-2">
                <div class="flex justify-between"><span>Subtotal:</span> <span id="cart-subtotal">R$ 0,00</span></div>
                <div class="flex justify-between text-blue-600 font-bold"><span>Taxa de Entrega:</span> <span id="delivery-tax-amount">R$ 0,00</span></div>
                <div class="flex justify-between font-bold text-xl border-t pt-2"><span>Total:</span> <span id="cart-total">R$ 0,00</span></div>
            </div>

            <p class="font-bold mt-4">Forma de recebimento:</p>
            <div class="flex gap-2 mt-2">
                <button type="button" id="btn-delivery" class="flex-1 border-2 border-gray-300 py-3 rounded-lg font-bold">Entrega</button>
                <button type="button" id="btn-pickup" class="flex-1 border-2 border-gray-300 py-3 rounded-lg font-bold">Retirada</button>
            </div>

            <div id="address-container" class="hidden mt-4">
                <p class="font-bold mb-2">Endere√ßo:</p>
                <div class="flex gap-2">
                    <input type="text" id="address" placeholder="Rua, N√∫mero, Bairro..." class="flex-1 border-2 p-3 rounded-lg outline-none" />
                    <button type="button" id="calc-shipping-btn" class="bg-green-500 text-white px-4 rounded-lg font-bold">Calcular</button>
                </div>
                <p id="shipping-value-display" class="hidden text-green-600 font-bold mt-2 p-2 bg-green-50 rounded border border-green-200 text-sm"></p>
                <p id="address-warn" class="hidden text-red-500 text-xs mt-1">Endere√ßo obrigat√≥rio!</p>
            </div>

            <p class="font-bold mt-4">Pagamento:</p>
            <select id="payment-method" class="w-full border-2 p-3 rounded-lg mt-1">
                <option value="Pix">Pix</option>
                <option value="Cart√£o">Cart√£o</option>
            </select>

            <div class="grid grid-cols-2 gap-3 mt-4">
                <div><label class="text-xs font-bold text-gray-500">DATA:</label><input type="date" id="delivery-date" class="w-full border-2 p-3 rounded-lg" /></div>
                <div><label class="text-xs font-bold text-gray-500">HORA:</label><input type="time" id="delivery-time" class="w-full border-2 p-3 rounded-lg" /></div>
            </div>

            <div class="flex items-center justify-between mt-8 gap-4">
                <button type="button" id="close-modal-btn" class="text-gray-500 font-bold">Fechar</button>
                <button type="button" id="checkout-btn" class="flex-1 bg-green-500 text-white py-3 rounded-lg font-bold shadow-lg">Finalizar Pedido</button>
            </div>
        </div>
    </div>

    <footer class="w-full fixed bottom-0 z-40 flex justify-center pb-6 pointer-events-none">
        <button id="cart-btn" class="flex items-center gap-3 bg-red-500 px-8 py-3 rounded-full text-white font-bold shadow-2xl pointer-events-auto active:scale-95 transition-all">
            <div class="relative">
                <i class="fa fa-cart-plus text-xl"></i>
                <span id="cart-count" class="absolute -top-3 -right-3 bg-white text-red-500 text-[10px] w-5 h-5 rounded-full flex items-center justify-center font-bold">0</span>
            </div>
            Ver Carrinho
        </button>
    </footer>

    <script type="module" src="./script.js"></script>
</body>
</html>